"use strict";(self.webpackChunkmarvel_comics=self.webpackChunkmarvel_comics||[]).push([[61],{7341:function(e,t,n){var c=n(5671),s=n(3144),r=n(136),o=n(7277),i=n(2791),a=n(184),l=function(e){(0,r.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,c.Z)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={error:!1},e}return(0,s.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.log(t,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,a.jsx)("h2",{children:"chto to poshlo ne tak"}):this.props.children}}]),n}(i.Component);t.Z=l},3736:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var c=n(7341),s=n(3433),r=n(9439),o=n(4919),i=n(2791),a=n(702),l=n(7687),u=n(1087),f=n(7181),h=n(184),d=function(){var e=(0,i.useState)(!1),t=(0,r.Z)(e,2),n=t[0],c=t[1],d=(0,o.Z)(),m=d.loader,Z=d.error,j=d.getComics,p=d.getTotalComics,x=(0,i.useState)([]),v=(0,r.Z)(x,2),g=v[0],k=v[1],C=(0,i.useState)(0),N=(0,r.Z)(C,2),b=N[0],y=N[1],S=(0,i.useState)(!1),w=(0,r.Z)(S,2),E=w[0],A=w[1],D=(0,i.useState)(null),M=(0,r.Z)(D,2),O=M[0],_=M[1];(0,i.useEffect)((function(){F(b,!0)}),[]),(0,i.useEffect)((function(){p().then((function(e){return _(e.data.total)}))}),[]);var F=function(e,t){c(!t),j(e).then((function(e){console.log(e),k(e),L(e)}))},L=function(e){var t=!1;b>=O&&null!==O&&(t=!0),y((function(){return b+8})),k([].concat((0,s.Z)(g),(0,s.Z)(e))),c(!1),A(t)},R=m&&!n?(0,h.jsx)(a.Z,{}):(0,h.jsx)(U,{}),T=Z&&!m?(0,h.jsx)(l.Z,{}):R;return(0,h.jsxs)("section",{className:"comics",children:[(0,h.jsx)(f.Z,{}),T,(0,h.jsx)("button",{className:"buttons loadMore",onClick:function(){F(b)},disabled:n,style:{display:E?"none ":"block"},children:"LOAD MORE"})]});function U(){return(0,h.jsx)("div",{className:"comicsContent",children:g.map((function(e,t){return(0,h.jsx)("div",{className:"comices",children:(0,h.jsxs)(u.rU,{to:"/comics/".concat(e.id),children:[(0,h.jsx)("img",{className:"images",src:e.images,alt:""}),(0,h.jsx)("p",{className:"title",children:e.title}),(0,h.jsx)("p",{className:"price",children:e.price})]})},t)}))})}},m=function(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(d,{})})})}}}]);
//# sourceMappingURL=61.1a60c2ae.chunk.js.map