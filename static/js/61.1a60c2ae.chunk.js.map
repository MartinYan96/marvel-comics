{"version":3,"file":"static/js/61.1a60c2ae.chunk.js","mappings":"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","sources":["components/errorBoundary/ErrorBoundary.js","components/comics/Comics.js","components/pages/ComicsPage.js"],"sourcesContent":["import { Component } from \"react\";\n\nclass errorBoundary extends Component{\n    state={\n        error:false\n    }\n    componentDidCatch(error,errprInfo){\n        console.log(errprInfo,error )\n        this.setState({error:true})\n    }\n    \n    render() {\n        if(this.state.error){\n            return <h2>chto to poshlo ne tak</h2>\n        }\n        return this.props.children\n    }\n}\n\nexport default errorBoundary\n\n","import './comics.scss'\nimport useMarvelService from '../../services/MarvelService'\nimport { useEffect, useState } from 'react'\nimport LoadingSpinner from '../loadingSpinner/LoadingSpinner'\nimport ServicesError from '../../services/ServicesError'\nimport { Link } from 'react-router-dom'\nimport AppBaner from '../appBaner/AppBaner'\n\nconst Comics = () => {\n    const [newItemLoading, setNewItemLoading] = useState(false)\n    const { loader, error, getComics, getTotalComics } = useMarvelService()\n    const [comicsInfo, setComicsInfo] = useState([])\n    const [offset, setOffset] = useState(0)\n    const [charEnded, setCharEnded] = useState(false)\n    const [total, setTotal] = useState(null)\n\n    useEffect(() => {\n        getComices(offset, true)\n    }, [])\n\n    useEffect(() => {\n        getTotalComics().then(total => setTotal(total.data.total))\n    }, [])\n\n\n    const getComices = (offset, initial) => {\n        initial ? setNewItemLoading(false) : setNewItemLoading(true)\n        getComics(offset)\n            .then(res => {\n                console.log(res)\n                setComicsInfo(res)\n                loadMoreComics(res)\n            })\n    }\n\n    const loadMoreComics = (res) => {\n        let ended = false\n\n        if (offset >= total && total !== null) {\n            ended = true\n        }\n\n        setOffset(() => offset + 8)\n        setComicsInfo([...comicsInfo, ...res])\n        setNewItemLoading(false)\n        setCharEnded(ended)\n    }\n\n\n    const spiner = loader && !newItemLoading ? <LoadingSpinner /> : <ComicsContent />\n    const comicsRespose = error && !loader ? <ServicesError /> : spiner\n\n    return (\n        <section className=\"comics\">\n            <AppBaner />\n            {comicsRespose}\n            <button className='buttons loadMore'\n                onClick={() => { getComices(offset) }}\n                disabled={newItemLoading}\n                style={{ display: charEnded ? 'none ' : 'block' }}\n            >\n                LOAD MORE\n            </button>\n        </section>\n    )\n\n    function ComicsContent() {\n        return (\n            <div className=\"comicsContent\">\n                {comicsInfo.map((item, i) => {\n                    return (\n                        <div key={i} className='comices' >\n                            <Link to={`/comics/${item.id}`} >\n                                <img className='images' src={item.images} alt=\"\" />\n                                <p className='title'>{item.title}</p>\n                                <p className='price'>{item.price}</p>\n                            </Link>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n\n\n}\n\nexport default Comics\n\n","import ErrorBoundary from '../errorBoundary/ErrorBoundary';\nimport Comics from '../comics/Comics';\n\nconst ComicsPage = () => {\n    return (\n        <>\n            <ErrorBoundary>\n                <Comics />\n            </ErrorBoundary>\n        </>\n    )\n}\n\nexport default ComicsPage"],"names":["errorBoundary","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","error","_createClass","key","value","errprInfo","console","log","this","setState","_jsx","children","props","Component","_useState","useState","_useState2","_slicedToArray","newItemLoading","setNewItemLoading","_useMarvelService","useMarvelService","loader","getComics","getTotalComics","_useState3","_useState4","comicsInfo","setComicsInfo","_useState5","_useState6","offset","setOffset","_useState7","_useState8","charEnded","setCharEnded","_useState9","_useState10","total","setTotal","useEffect","getComices","then","data","initial","res","loadMoreComics","ended","_toConsumableArray","spiner","LoadingSpinner","ComicsContent","comicsRespose","ServicesError","_jsxs","className","AppBaner","onClick","disabled","style","display","map","item","i","Link","to","id","src","images","alt","title","price","_Fragment","ErrorBoundary","Comics"],"sourceRoot":""}