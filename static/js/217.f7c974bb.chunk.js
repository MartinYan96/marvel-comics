"use strict";(self.webpackChunkmarvel_comics=self.webpackChunkmarvel_comics||[]).push([[217],{7341:function(e,r,t){var n=t(5671),a=t(3144),s=t(136),c=t(7277),i=t(2791),o=t(184),u=function(e){(0,s.Z)(t,e);var r=(0,c.Z)(t);function t(){var e;(0,n.Z)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=r.call.apply(r,[this].concat(s))).state={error:!1},e}return(0,a.Z)(t,[{key:"componentDidCatch",value:function(e,r){console.log(r,e),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,o.jsx)("h2",{children:"chto to poshlo ne tak"}):this.props.children}}]),t}(i.Component);r.Z=u},1241:function(e,r,t){t.r(r),t.d(r,{default:function(){return N}});var n=t(4165),a=t(5861),s=t(9439),c=t.p+"static/media/mjolnir.61f31e1809f12183a524.png",i=t(2791),o=t(4919),u=t(7687),l=t(702),m=t(184),h=function(){var e=(0,i.useState)({}),r=(0,s.Z)(e,2),t=r[0],h=r[1],p=(0,o.Z)(),d=p.loader,f=p.error,v=p.clearError,b=p.getPerson;(0,i.useEffect)((function(){g()}),[]);var x=function(e){h(e)},g=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),r=Math.floor(400*Math.random()+1011e3),b(r).then((function(e){return x(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=t.name,Z=t.description,N=t.thumbnail,y=t.homepage,k=t.wiki,w=f?(0,m.jsx)(u.Z,{}):null,C=d?(0,m.jsx)(l.Z,{}):null,S={objectFif:"cover"};"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===N&&(S={objectFif:"unset"});var P=f||C?null:(0,m.jsxs)("div",{className:"randomPerson",children:[(0,m.jsx)("div",{className:"img",children:(0,m.jsx)("img",{src:N,alt:"name",style:S})}),(0,m.jsxs)("div",{className:"personInfo",children:[(0,m.jsx)("p",{className:"name",children:j}),(0,m.jsx)("p",{className:"info",children:Z}),(0,m.jsxs)("div",{className:"sellectLink",children:[(0,m.jsx)("a",{href:y,className:"buttons homepage",children:"HOMEPAGE"}),(0,m.jsx)("a",{href:k,className:"buttons wiki",children:"WIKI"})]})]})]});return(0,m.jsxs)("section",{className:"randomCharPerson",children:[w,C,P,(0,m.jsxs)("div",{className:"randomPersonToggle",children:[(0,m.jsxs)("p",{className:"randomPersonTittle",children:["Random character for today! ",(0,m.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,m.jsx)("p",{className:"randomPersonTittle",children:"Or choose another one"}),(0,m.jsx)("button",{className:"buttons try_it",disabled:d,onClick:g,children:"TRY IT "}),(0,m.jsx)("img",{src:c,alt:""})]})]})},p=t(3433),d=t(5705),f=t(1087),v=t(7670),b=function(){var e=(0,i.useState)(null),r=(0,s.Z)(e,2),t=r[0],n=r[1],a=(0,o.Z)(),c=a.getSearch,u=a.loader,l=a.clearError,h=function(e){n(e)},p=t?null!==t&&!0===t?(0,m.jsx)("div",{style:{color:"red",marginTop:10},children:"the charachter was not found.Chack the name try again"}):(0,m.jsxs)("div",{className:"toPageVizit",children:[(0,m.jsxs)("div",{style:{color:"green",marginTop:10},children:["There is! Visit ",t.name," page"]}),(0,m.jsx)(f.rU,{to:"/characters/".concat(t.id),className:"buttons toPageButton",children:"To Page"})]}):null;return(0,m.jsx)("div",{className:"charSearch",children:(0,m.jsxs)("div",{className:"charSearchBlok",children:[(0,m.jsx)("p",{style:{marginBottom:"10px"},children:"Or find a character by name:"}),(0,m.jsx)(d.J9,{initialValues:{charName:""},validationSchema:v.Ry({charName:v.Z_().required("This field is required")}),onSubmit:function(e){var r,t=e.charName;r=t,l(),c(r).then(h)},children:(0,m.jsxs)(d.l0,{className:"form",children:[(0,m.jsxs)("div",{className:"search",children:[(0,m.jsx)(d.gN,{type:"text",name:"charName",id:"text",placeholder:"Enter name"}),(0,m.jsx)("button",{type:"submit",className:"buttons findCharacter",disabled:u,children:" FIND "})]}),(0,m.jsx)(d.Bc,{component:"div",className:"charSearchError",name:"charName"})]})}),p]})})},x=function(){return(0,m.jsx)("p",{children:" no comics"})},g=function(){var e=(0,o.Z)(),r=e.loader,t=e.getAllPerson,n=e.totalNumber,a=(0,i.useState)([]),c=(0,s.Z)(a,2),u=c[0],h=c[1],d=(0,i.useState)({}),f=(0,s.Z)(d,2),v=f[0],g=f[1],j=(0,i.useState)(!1),Z=(0,s.Z)(j,2),N=Z[0],y=Z[1],k=(0,i.useState)(210),w=(0,s.Z)(k,2),C=w[0],S=w[1],P=(0,i.useState)(!1),E=(0,s.Z)(P,2),I=E[0],T=E[1],A=(0,i.useState)(null),B=(0,s.Z)(A,2),_=B[0],O=B[1],F=function(e,r){y(!r),t(e).then(M)};(0,i.useEffect)((function(){n().then((function(e){return O(e.data.total)})),F(C,!0)}),[]);var M=function(e){var r=!1;C>=_&&null!==_&&(r=!0),h([].concat((0,p.Z)(u),(0,p.Z)(e))),S((function(){return C+9})),y(!1),T(r)};return(0,m.jsxs)("section",{className:"charContent",children:[r&&!N?(0,l.Z)():(0,m.jsxs)("div",{className:"personListBlock",children:[(0,m.jsx)("div",{className:"personList",children:u.map((function(e,r){var t={objectFif:"cover"};return"http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"===e.description&&(t={objectFif:"unset"}),(0,m.jsxs)("div",{className:"personItem",onClick:function(){g(e)},children:[(0,m.jsx)("img",{src:e.thumbnail,alt:e.name,style:t}),(0,m.jsx)("p",{className:"name",children:e.name})]},e.id)}))}),(0,m.jsx)("button",{className:"buttons loadMore",disabled:N,onClick:function(){return F(C)},style:{display:I?"none ":"block"},children:"LOAD MORE"})]}),(0,m.jsxs)("div",{className:"personInfo",children:[(0,m.jsxs)("div",{className:"personInfoBlock",children:[(0,m.jsxs)("div",{className:"imgAndName",children:[(0,m.jsx)("img",{src:v.thumbnail,alt:""}),(0,m.jsxs)("div",{className:"personNameAndLink",children:[(0,m.jsx)("p",{className:"personName",children:v.name}),(0,m.jsx)("a",{href:v.homepage,className:"buttons homepage",children:"HOMEPAGE"}),(0,m.jsx)("a",{href:v.wiki,className:"buttons wiki",children:"WIKI"})]})]}),(0,m.jsx)("p",{className:"charInfo",children:v.description}),(0,m.jsxs)("ul",{className:"comicsPerson",children:["Comics:",void 0===v.comics||0===v.comics.length?(0,m.jsx)(x,{}):v.comics.map((function(e,r){if(!(r>10))return(0,m.jsxs)("li",{className:"comicsItem",children:[" ",e.name]},r)}))]})]}),(0,m.jsx)("div",{children:(0,m.jsx)(b,{})})]})]})},j=t.p+"static/media/vision.067d4ae1936d64a577ce.png",Z=t(7341),N=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Z.Z,{children:(0,m.jsx)(h,{})}),(0,m.jsx)(Z.Z,{children:(0,m.jsx)(g,{})}),(0,m.jsx)("img",{className:"visionImg",src:j,alt:"vision"})]})}},4919:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(4165),a=t(5861),s=t(9439),c=t(2791),i=t(4844),o=function(){var e=function(){var e=(0,c.useState)(!1),r=(0,s.Z)(e,2),t=r[0],i=r[1],o=(0,c.useState)(null),u=(0,s.Z)(o,2),l=u[0],m=u[1],h=(0,c.useCallback)(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,s,c,o,u=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:"get",a=u.length>2&&void 0!==u[2]?u[2]:null,s=u.length>3&&void 0!==u[3]?u[3]:{"Content-type":"application/json"},i(!0),e.prev=4,e.next=7,fetch(r,{method:t,body:a,headers:s});case 7:if((c=e.sent).ok){e.next=10;break}throw new Error("error ".concat(r,",status: ").concat(c.status));case 10:return e.next=12,c.json();case 12:return o=e.sent,i(!1),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(4),i(!1),m(e.t0.message),e.t0;case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(r){return e.apply(this,arguments)}}(),[]);return{loader:t,error:l,request:h,clearError:(0,c.useCallback)((function(){return m(null)}),[])}}(),r=e.loader,t=e.error,o=e.request,u=e.clearError,l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/characters?limit=9&offset=".concat(r,"&apikey=2fe2037751b47438b15ee307bff6ce59"));case 2:return t=e.sent,e.abrupt("return",g(t));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/characters/".concat(r,"?apikey=2fe2037751b47438b15ee307bff6ce59"));case 2:return t=e.sent,e.abrupt("return",x(t));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/characters/".concat(r,"?apikey=2fe2037751b47438b15ee307bff6ce59"));case 2:return t=e.sent,e.abrupt("return",Z(t));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/characters?apikey=2fe2037751b47438b15ee307bff6ce59");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/comics?orderBy=modified&limit=8&offset=".concat(r,"&apikey=2fe2037751b47438b15ee307bff6ce59"));case 2:return t=e.sent,e.abrupt("return",t.data.results.map(j));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/comics/".concat(r,"?apikey=2fe2037751b47438b15ee307bff6ce59"));case 2:return t=e.sent,e.abrupt("return",j(t.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/characters?name=".concat(r,"&apikey=2fe2037751b47438b15ee307bff6ce59"));case 2:return t=e.sent,e.abrupt("return",Z(t));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),b=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("https://gateway.marvel.com:443/v1/public/comics?apikey=2fe2037751b47438b15ee307bff6ce59");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){var r=e.data.results[0];return{id:r.id,name:r.name,description:""===r.description?"no description":r.description,thumbnail:r.thumbnail.path+"."+r.thumbnail.extension,homepage:r.urls[0].url,wiki:r.urls[1].url}},g=function(e){return e.data.results.map((function(r){return{id:r.id,name:r.name,description:""===r.description?"no description":r.description,thumbnail:r.thumbnail.path+"."+r.thumbnail.extension,homepage:r.urls[0].url,wiki:r.urls[1].url,comics:r.comics.items,total:e.data.total}}))},j=function(e){return{id:e.id,title:e.title,price:e.prices[0].price+"$",images:void 0!==e.images[0]?e.images[0].path+"."+e.images[0].extension:i,description:e.description||"There is not description",languages:e.textObjects.language||"en-us",pageCount:e.pageCount,result:e}},Z=function(e){var r=e.data.results[0];return void 0===r||{id:r.id,name:r.name,images:r.thumbnail.path+"."+r.thumbnail.extension||i,description:r.description||"There is not description"}};return{loader:r,error:t,clearError:u,getAllPerson:l,getPerson:m,totalNumber:p,getComics:d,getSearch:v,selectPerson:h,getComicById:f,getTotalComics:b}}}}]);
//# sourceMappingURL=217.f7c974bb.chunk.js.map